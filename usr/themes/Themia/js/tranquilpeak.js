function cz(){(function($){var AboutCard=function(){this.$openBtn=$("#sidebar, #header").find("a[href*='#about']");this.$closeBtn=$("#about-btn-close");this.$blog=$("#blog");this.$about=$("#about");this.$aboutCard=$("#about-card")};AboutCard.prototype={run:function(){var self=this;self.$openBtn.click(function(e){e.preventDefault();self.play()});self.$closeBtn.click(function(e){e.preventDefault();self.playBack()})},play:function(){var self=this;self.$blog.fadeOut();self.$about.fadeIn();setTimeout(function(){self.dropAboutCard()},300)},playBack:function(){var self=this;self.liftAboutCard();setTimeout(function(){self.$blog.fadeIn()},500);setTimeout(function(){self.$about.fadeOut()},500)},dropAboutCard:function(){var self=this;var aboutCardHeight=self.$aboutCard.innerHeight();var offsetTop=($(window).height()/2)-(aboutCardHeight/2)+aboutCardHeight;if(aboutCardHeight+30>$(window).height()){offsetTop=aboutCardHeight}self.$aboutCard.css("top","0px").css("top","-"+aboutCardHeight+"px").show(500,function(){self.$aboutCard.animate({top:"+="+offsetTop+"px"})})},liftAboutCard:function(){var self=this;var aboutCardHeight=self.$aboutCard.innerHeight();var offsetTop=($(window).height()/2)-(aboutCardHeight/2)+aboutCardHeight;if(aboutCardHeight+30>$(window).height()){offsetTop=aboutCardHeight}self.$aboutCard.animate({top:"-="+offsetTop+"px"},500,function(){self.$aboutCard.hide();self.$aboutCard.removeAttr("style")})}};$(document).ready(function(){var aboutCard=new AboutCard();aboutCard.run()})})(jQuery);(function($){var ArchivesFilter=function(archivesElem){this.$form=$(archivesElem).find("#filter-form");this.$searchInput=$(archivesElem).find("input[name=date]");this.$archiveResult=$(archivesElem).find(".archive-result");this.$postsYear=$(archivesElem).find(".archive-year");this.$postsMonth=$(archivesElem).find(".archive-month");this.$postsDay=$(archivesElem).find(".archive-day");this.postsYear=archivesElem+" .archive-year";this.postsMonth=archivesElem+" .archive-month";this.postsDay=archivesElem+" .archive-day";this.messages={zero:this.$archiveResult.data("message-zero"),one:this.$archiveResult.data("message-one"),other:this.$archiveResult.data("message-other")}};ArchivesFilter.prototype={run:function(){var self=this;self.$searchInput.keyup(function(){self.filter(self.sliceDate(self.getSearch()))});self.$form.submit(function(e){e.preventDefault()})},getSearch:function(){return this.$searchInput.val().replace(/([\/|.|-])/g,"").toLowerCase()},sliceDate:function(date){return[date.slice(0,4),date.slice(4,6),date.slice(6)]},filter:function(date){var numberPosts;if(date[0]===""){this.showAll();this.showResult(-1)}else{numberPosts=this.countPosts(date);this.hideAll();this.showResult(numberPosts);if(numberPosts>0){this.showPosts(date)}}},showResult:function(numbPosts){if(numbPosts===-1){this.$archiveResult.html("").hide()}else{if(numbPosts===0){this.$archiveResult.html(this.messages.zero).show()}else{if(numbPosts===1){this.$archiveResult.html(this.messages.one).show()}else{this.$archiveResult.html(this.messages.other.replace(/\{n\}/,numbPosts)).show()}}}},countPosts:function(date){return $(this.postsDay+"[data-date^="+date[0]+date[1]+date[2]+"]").length},showPosts:function(date){$(this.postsYear+"[data-date^="+date[0]+"]").show();$(this.postsMonth+"[data-date^="+date[0]+date[1]+"]").show();$(this.postsDay+"[data-date^="+date[0]+date[1]+date[2]+"]").show()},showAll:function(){this.$postsYear.show();this.$postsMonth.show();this.$postsDay.show()},hideAll:function(){this.$postsYear.hide();this.$postsMonth.hide();this.$postsDay.hide()}};$(document).ready(function(){if($("#archives").length){var archivesFilter=new ArchivesFilter("#archives");archivesFilter.run()}})})(jQuery);(function($){var CategoriesFilter=function(categoriesArchivesElem){this.$form=$(categoriesArchivesElem).find("#filter-form");this.$inputSearch=$(categoriesArchivesElem).find("input[name=category]");this.$archiveResult=$(categoriesArchivesElem).find(".archive-result");this.$posts=$(categoriesArchivesElem).find(".archive");this.$categories=$(categoriesArchivesElem).find(".category-anchor");this.posts=categoriesArchivesElem+" .archive";this.categories=categoriesArchivesElem+" .category-anchor";this.dataCategory="category";this.dataParentCategories="parent-categories";this.messages={zero:this.$archiveResult.data("message-zero"),one:this.$archiveResult.data("message-one"),other:this.$archiveResult.data("message-other")}};CategoriesFilter.prototype={run:function(){var self=this;self.$inputSearch.keyup(function(){self.filter(self.getSearch())});self.$form.submit(function(e){e.preventDefault()})},getSearch:function(){return this.$inputSearch.val().toLowerCase()},filter:function(category){if(category===""){this.showAll();this.showResult(-1)}else{this.hideAll();this.showPosts(category);this.showResult(this.countCategories(category))}},showResult:function(numbCategories){if(numbCategories===-1){this.$archiveResult.html("").hide()}else{if(numbCategories===0){this.$archiveResult.html(this.messages.zero).show()
}else{if(numbCategories===1){this.$archiveResult.html(this.messages.one).show()}else{this.$archiveResult.html(this.messages.other.replace(/\{n\}/,numbCategories)).show()}}}},countCategories:function(category){return $(this.posts+"[data-"+this.dataCategory+"*='"+category+"']").length},showPosts:function(category){var self=this;var parents;var categories=self.categories+"[data-"+self.dataCategory+"*='"+category+"']";var posts=self.posts+"[data-"+self.dataCategory+"*='"+category+"']";if(self.countCategories(category)>0){if($(categories+"[data-"+self.dataParentCategories+"]").length){$(categories).each(function(){parents=$(this).attr("data-"+self.dataParentCategories).split(",");parents.forEach(function(parent){var dataAttr="[data-"+self.dataCategory+"='"+parent+"']";$(self.categories+dataAttr).show();$(self.posts+dataAttr).show();$(self.posts+dataAttr+" > .archive-posts > .archive-post").hide()})})}}$(categories).show();$(posts).show();$(posts+" > .archive-posts > .archive-post").show()},showAll:function(){this.$categories.show();this.$posts.show();$(this.posts+" > .archive-posts > .archive-post").show()},hideAll:function(){this.$categories.hide();this.$posts.hide()}};$(document).ready(function(){if($("#categories-archives").length){var categoriesFilter=new CategoriesFilter("#categories-archives");categoriesFilter.run()}})})(jQuery);(function($){var CodeBlockResizer=function(elem){this.$codeBlocks=$(elem)};CodeBlockResizer.prototype={run:function(){var self=this;self.resize();$(window).smartresize(function(){self.resize()})},resize:function(){var self=this;self.$codeBlocks.each(function(){var $gutter=$(this).find(".gutter");var $code=$(this).find(".code");var codePaddings=$code.width()-$code.innerWidth();var width=$(this).outerWidth()-$gutter.outerWidth()+codePaddings;$code.css("width",width);$code.children("pre").css("width",width)})}};$(document).ready(function(){$.fn.hasHorizontalScrollBar=function(){return this.get(0).scrollWidth>this.innerWidth()};var resizer=new CodeBlockResizer("figure.highlight");resizer.run()})})(jQuery);(function($){$(document).ready(function(){$(".fancybox").fancybox({maxWidth:900,maxHeight:800,fitToView:true,width:"50%",height:"50%",autoSize:true,closeClick:false,openEffect:"elastic",closeEffect:"elastic",prevEffect:"none",nextEffect:"none",padding:"0",helpers:{thumbs:{width:70,height:70},overlay:{css:{background:"rgba(0, 0, 0, 0.85)"}}}})})})(jQuery);(function($){var Header=function(){this.$header=$("#header");this.headerHeight=this.$header.height();this.headerUpCSSClass="header-up";this.delta=5;this.lastScrollTop=0};Header.prototype={run:function(){var self=this;var didScroll;$(window).scroll(function(){didScroll=true});setInterval(function(){if(didScroll){self.animate();didScroll=false}},250)},animate:function(){var scrollTop=$(window).scrollTop();if(Math.abs(this.lastScrollTop-scrollTop)<=this.delta){return}if((scrollTop>this.lastScrollTop)&&(scrollTop>this.headerHeight)){this.$header.addClass(this.headerUpCSSClass)}else{if(scrollTop+$(window).height()<$(document).height()){this.$header.removeClass(this.headerUpCSSClass)}}this.lastScrollTop=scrollTop}};$(document).ready(function(){var header=new Header();header.run()})})(jQuery);(function($){var ImageGallery=function(){this.photosBox=".photo-box";this.$images=$(this.photosBox+" img")};ImageGallery.prototype={run:function(){var self=this;self.resizeImages();$(window).smartresize(function(){self.resizeImages()})},resizeImages:function(){var photoBoxWidth;var photoBoxHeight;var imageWidth;var imageHeight;var imageRatio;var $image;this.$images.each(function(){$image=$(this);photoBoxWidth=$image.parent().parent().width();photoBoxHeight=$image.parent().parent().innerHeight();imageWidth=$image.width();imageHeight=$image.height();if(imageHeight<photoBoxHeight){imageRatio=(imageWidth/imageHeight);$image.css({height:photoBoxHeight,width:(photoBoxHeight*imageRatio)});$image.parent().css({left:"-"+(((photoBoxHeight*imageRatio)/2)-(photoBoxWidth/2))+"px"})}imageWidth=$image.width();imageHeight=$image.height();if(imageWidth<photoBoxWidth){imageRatio=(imageHeight/photoBoxWidth);$image.css({width:photoBoxWidth,height:(photoBoxWidth*imageRatio)});$image.parent().css({top:"-"+(((imageHeight)/2)-(photoBoxHeight/2))+"px"})}if(imageHeight>photoBoxHeight){$image.parent().css({top:"-"+(((imageHeight)/2)-(photoBoxHeight/2))+"px"})}})}};$(document).ready(function(){if($(".image-gallery").length){var imageGallery=new ImageGallery();setTimeout(function(){imageGallery.run()},500)}})})(jQuery);(function($){var PostBottomBar=function(){this.$postBottomBar=$(".post-bottom-bar");this.$postFooter=$(".post-actions-wrap");this.$header=$("#header");this.delta=1;this.lastScrollTop=0};PostBottomBar.prototype={run:function(){var self=this;var didScroll;self.swipePostBottomBar();$(window).scroll(function(){didScroll=true});setInterval(function(){if(didScroll){self.swipePostBottomBar();didScroll=false}},250)},swipePostBottomBar:function(){var scrollTop=$(window).scrollTop();
var postFooterOffsetTop=this.$postFooter.offset().top;if(this.lastScrollTop>scrollTop&&(postFooterOffsetTop+this.$postFooter.height()>scrollTop+$(window).height()||postFooterOffsetTop<scrollTop+this.$header.height())){this.$postBottomBar.slideDown()}else{this.$postBottomBar.slideUp()}this.lastScrollTop=scrollTop}};$(document).ready(function(){if($(".post-bottom-bar").length){var postBottomBar=new PostBottomBar();postBottomBar.run()}})})(jQuery);(function($){var ShareOptionsBar=function(){this.$shareOptionsBar=$("#share-options-bar");this.$openBtn=$(".btn-open-shareoptions");this.$closeBtn=$("#share-options-mask")};ShareOptionsBar.prototype={run:function(){var self=this;self.$openBtn.click(function(){if(!self.$shareOptionsBar.hasClass("opened")){self.openShareOptions();self.$closeBtn.show()}});self.$closeBtn.click(function(){if(self.$shareOptionsBar.hasClass("opened")){self.closeShareOptions();self.$closeBtn.hide()}})},openShareOptions:function(){var self=this;if(!self.$shareOptionsBar.hasClass("opened")&&!this.$shareOptionsBar.hasClass("processing")){self.$shareOptionsBar.addClass("processing opened");setTimeout(function(){self.$shareOptionsBar.removeClass("processing")},250)}},closeShareOptions:function(){var self=this;if(self.$shareOptionsBar.hasClass("opened")&&!this.$shareOptionsBar.hasClass("processing")){self.$shareOptionsBar.addClass("processing").removeClass("opened");setTimeout(function(){self.$shareOptionsBar.removeClass("processing")},250)}}};$(document).ready(function(){var shareOptionsBar=new ShareOptionsBar();shareOptionsBar.run()})})(jQuery);(function($){var Sidebar=function(){this.$sidebar=$("#sidebar");this.$openBtn=$("#btn-open-sidebar");this.$closeBtn=$("#header, #main, .post-header-cover");this.$blog=$(".post-bottom-bar, #header, #main, .post-header-cover");this.mediumScreenWidth=768};Sidebar.prototype={run:function(){var self=this;self.$openBtn.click(function(){if(!self.$sidebar.hasClass("pushed")){self.openSidebar()}});self.$closeBtn.click(function(){if(self.$sidebar.hasClass("pushed")){self.closeSidebar()}});$(window).resize(function(){if($(window).width()>self.mediumScreenWidth){self.resetSidebarPosition();self.resetBlogPosition()}else{self.closeSidebar()}})},openSidebar:function(){this.swipeBlogToRight();this.swipeSidebarToRight()},closeSidebar:function(){this.swipeSidebarToLeft();this.swipeBlogToLeft()},resetSidebarPosition:function(){this.$sidebar.removeClass("pushed")},resetBlogPosition:function(){this.$blog.removeClass("pushed")},swipeSidebarToRight:function(){var self=this;if(!self.$sidebar.hasClass("pushed")&&!this.$sidebar.hasClass("processing")){self.$sidebar.addClass("processing pushed");setTimeout(function(){self.$sidebar.removeClass("processing")},250)}},swipeSidebarToLeft:function(){var self=this;if(self.$sidebar.hasClass("pushed")&&!this.$sidebar.hasClass("processing")){self.$sidebar.addClass("processing").removeClass("pushed processing")}},swipeBlogToRight:function(){var self=this;if(!self.$blog.hasClass("pushed")&&!this.$blog.hasClass("processing")){self.$blog.addClass("processing pushed");setTimeout(function(){self.$blog.removeClass("processing")},250)}},swipeBlogToLeft:function(){var self=this;if(self.$blog.hasClass("pushed")&&!this.$blog.hasClass("processing")){self.$blog.addClass("processing").removeClass("pushed");setTimeout(function(){self.$blog.removeClass("processing")},250)}}};$(document).ready(function(){var sidebar=new Sidebar();sidebar.run()})})(jQuery);(function($,sr){var debounce=function(func,threshold,execAsap){var timeout;return function debounced(){var obj=this;var args=arguments;function delayed(){if(!execAsap){func.apply(obj,args)}timeout=null}if(timeout){clearTimeout(timeout)}else{if(execAsap){func.apply(obj,args)}}timeout=setTimeout(delayed,threshold||100)}};jQuery.fn[sr]=function(fn){return fn?this.bind("resize",debounce(fn)):this.trigger(sr)}})(jQuery,"smartresize");(function($){var TabbedCodeBlock=function(elems){this.$tabbedCodeBlocs=$(elems)};TabbedCodeBlock.prototype={run:function(){var self=this;self.$tabbedCodeBlocs.find(".tab").click(function(){var $codeblock=$(this).parent().parent().parent();var $tabsContent=$codeblock.find(".tabs-content").children("pre, .highlight");$(this).siblings().removeClass("active");$(this).addClass("active");$tabsContent.hide();$tabsContent.eq($(this).index()).show()})}};$(document).ready(function(){var tabbedCodeBlocks=new TabbedCodeBlock(".codeblock--tabbed");tabbedCodeBlocks.run()})})(jQuery);(function($){var TagsFilter=function(tagsArchivesElem){this.$form=$(tagsArchivesElem).find("#filter-form");this.$inputSearch=$(tagsArchivesElem+" #filter-form input[name=tag]");this.$archiveResult=$(tagsArchivesElem).find(".archive-result");this.$tags=$(tagsArchivesElem).find(".tag");this.$posts=$(tagsArchivesElem).find(".archive");this.tags=tagsArchivesElem+" .tag";this.posts=tagsArchivesElem+" .archive";this.dataTag="tag";this.messages={zero:this.$archiveResult.data("message-zero"),one:this.$archiveResult.data("message-one"),other:this.$archiveResult.data("message-other")}
};TagsFilter.prototype={run:function(){var self=this;self.$inputSearch.keyup(function(){self.filter(self.getSearch())});self.$form.submit(function(e){e.preventDefault()})},getSearch:function(){return this.$inputSearch.val().toLowerCase()},filter:function(tag){if(tag===""){this.showAll();this.showResult(-1)}else{this.hideAll();this.showPosts(tag);this.showResult(this.countTags(tag))}},showResult:function(numbTags){if(numbTags===-1){this.$archiveResult.html("").hide()}else{if(numbTags===0){this.$archiveResult.html(this.messages.zero).show()}else{if(numbTags===1){this.$archiveResult.html(this.messages.one).show()}else{this.$archiveResult.html(this.messages.other.replace(/\{n\}/,numbTags)).show()}}}},countTags:function(tag){return $(this.posts+"[data-"+this.dataTag+"*='"+tag+"']").length},showPosts:function(tag){$(this.tags+"[data-"+this.dataTag+"*='"+tag+"']").show();$(this.posts+"[data-"+this.dataTag+"*='"+tag+"']").show()},showAll:function(){this.$tags.show();this.$posts.show()},hideAll:function(){this.$tags.hide();this.$posts.hide()}};$(document).ready(function(){if($("#tags-archives").length){var tagsFilter=new TagsFilter("#tags-archives");tagsFilter.run()}})})(jQuery)}cz();